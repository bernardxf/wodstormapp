<div id="content" ng-init="carregaRelAluno();">	
	<div id="content-header">
		<h1>Relatório de Aluno</h1>
	</div> <!-- #content-header -->	
	<div id="content-container">
		<div class="row">
			<form class="form-horizontal">
				<div class="col-md-3 col-sm-4">
					<ul id="myTab" class="nav nav-pills nav-stacked" >
						<li class="active" ws-stacked-nav stackedid="aluno-tab">
							<a data-toggle="tab">
								<i class="fa fa-user"></i> 
								&nbsp;&nbsp;Aluno
							</a>
						</li>
						<li ws-stacked-nav stackedid="alunoidade-tab">
							<a data-toggle="tab">
								<i class="fa fa-user"></i> 
								&nbsp;&nbsp;Aluno/Idade
							</a>
						</li>
						<li ws-stacked-nav stackedid="alunobairro-tab">
							<a data-toggle="tab">
								<i class="fa fa-user"></i> 
								&nbsp;&nbsp;Aluno/Bairro
							</a>
						</li>
					</ul>
				</div> <!-- /.col -->
				<div class="col-md-9 col-sm-8">
					<div class="tab-content stacked-content">
						<div class="tab-pane fade in active" id="aluno-tab">
							<div class="row">
								<div class="col-md-12">
									<div class="portlet">
										<div class="portlet-header">
											<h3><i class="fa fa-tasks"></i>Pesquisa</h3>
										</div> <!-- /.portlet-header -->
										<div class="portlet-content">
											<div class="col-md-3">
												<div class="form-group">
													<label for="datainicial">Data Inicial</label>
													<input ws-data type="text" id="datainicial" class="form-control" ng-model="relalunoDataset.data_ini"/>
												</div>		
											</div>
											<div class="col-md-3">
												<div class="form-group">
													<label for="datafinal">Data Final</label>
													<input ws-data type="text" id="datafinal" class="form-control" ng-model="relalunoDataset.data_fim"/>
												</div>		
											</div>
											<div class="col-md-4">
												<div class="form-group">	
													<label for="aluno">Aluno</label>
													<select id="aluno" class="form-control" ng-model="relalunoDataset.id_aluno" ui-select2 data-placeholder="Selecione um aluno">
														<option></option>
														<option ng-repeat="aluno in selectAluno" value="{{aluno.id_aluno}}">{{aluno.nome}}</option>
													</select>
												</div>		
											</div>	
											<div class="col-md-2">
												<span>&nbsp</span>
												<div class="form-group">
													<button type="button" class="btn btn-success" ng-click="pesquisaRelAluno();">Pesquisar</button>
												</div>			
											</div>	
										</div> <!-- /.portlet-content -->
									</div> <!--/.portlet -->
								</div> <!-- /.col -->
							</div>
							&nbsp
							<div class="row">
								<div class="col-md-12">
									<div class="portlet">
										<div class="portlet-header">
											<h3><i class="fa fa-tasks"></i>Resultado</h3>
										</div> <!-- /.portlet-header -->
										<div class="portlet-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered table-hover table-highlight table-checkable" >
													<thead>
														<tr>
															<th>Aluno</th>
															<th>Plano</th>
															<th>Início Contrato</th>
															<th>Fim Contrato</th>
															<th>Num. Presenças</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="item in relAlunoResponseDataset.aluno">
															<td>{{item.aluno}}</td>
															<td>{{item.plano}}</td>
															<td>{{item.data_inicio | date:'dd/MM/yyyy'}}</td>
															<td>{{item.data_fim | date:'dd/MM/yyyy'}}</td>
															<td>{{item.num_presencas}}</td>
														</tr>
													</tbody>
												</table>
											</div> <!-- /.table-responsive -->
											<div class="table-responsive">
												<table class="table table-striped table-bordered table-hover table-highlight table-checkable" >
													<thead>
														<tr>
															<th>Data</th>
															<th>Horario</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="item in relAlunoResponseDataset.aulas">
															<td>{{item.data | date:'dd/MM/yyyy'}}</td>
															<td>{{item.horario}}</td>
														</tr>
													</tbody>
												</table>
											</div> <!-- /.table-responsive -->
										</div> <!-- /.portlet-content -->
									</div> <!--/.portlet -->
								</div> <!-- /.col -->
							</div> <!-- /.row -->
						</div>
						<div class="tab-pane fade" id="alunoidade-tab">
							<div class="row">
								<div class="col-md-12">
									<div class="portlet">
										<div class="portlet-header">
											<h3><i class="fa fa-tasks"></i>Pesquisa</h3>
										</div> <!-- /.portlet-header -->
										<div class="portlet-content">
											<div class="col-md-4">
												<div class="form-group">
													<label for="datainicial">Data Inicial</label>
													<input ws-data type="text" id="datainicial" class="form-control" ng-model="pesquisaAlunoIdade.data_ini"/>
												</div>		
											</div>
											<div class="col-md-4">
												<div class="form-group">
													<label for="datafinal">Data Final</label>
													<input ws-data type="text" id="datafinal" class="form-control" ng-model="pesquisaAlunoIdade.data_fim"/>
												</div>		
											</div>	
											<div class="col-md-4">
												<span>&nbsp</span>\
												<div class="form-group">
													<button type="button" class="btn btn-success" ng-click="pesquisaRelAlunoIdade();">Pesquisar</button>
												</div>			
											</div>	
										</div> <!-- /.portlet-content -->
									</div> <!--/.portlet -->
								</div> <!-- /.col -->
							</div>
							&nbsp
							<div class="row">
								<div class="col-md-12">
									<div class="portlet">
										<div class="portlet-header">
											<h3><i class="fa fa-tasks"></i>Resultado</h3>
										</div> <!-- /.portlet-header -->
										<div class="portlet-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered table-hover table-highlight table-checkable" >
													<thead>
														<tr>
															<th>Aluno</th>
															<th>Data Nasc.</th>
															<th>Plano</th>
															<th>Valor</th>
															<th>% Desconto</th>
															<th>Ação</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="item in relAlunoIdadeResponseDataset">
															<td>{{item.aluno}}</td>
															<td>{{item.data_nasc | date:'dd/MM/yyyy'}}</td>
															<td>{{item.plano}}</td>
															<td>{{item.valor}}</td>
															<td>{{item.porc_desc}}</td>
															<td>
																<a href="#/cad_aluno/{{item.id_aluno}}" class="btn btn-sm btn-success"><i class="fa fa-eye"></i></a>
															</td>
														</tr>
													</tbody>
												</table>
											</div> <!-- /.table-responsive -->
										</div> <!-- /.portlet-content -->
									</div> <!--/.portlet -->
								</div> <!-- /.col -->
							</div> <!-- /.row -->
						</div>
						<div class="tab-pane fade" id="alunobairro-tab">
							<div class="row">
								<div class="col-sm-12">
									<div class="portlet">
										<div class="portlet-header">
											<h3><i class="fa fa-tasks"></i>Alunos ativos e trancados por bairro</h3>
										</div> <!-- /.portlet-header -->
										<div class="portlet-content">
											<div class="table-responsive">
												<b>Selecione uma linha para ver os alunos.</b>
												<table class="table table-striped table-bordered table-hover table-highlight table-checkable" >
													<thead>
														<tr>
															<th>Número de alunos</th>
															<th>Bairro</th>
															<th>Percentual</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="item in relAlunosBairroDataset.bairros | startFrom: (currentPage - 1) * itemsPerPage | limitTo: itemsPerPage" data-ng-click="filtrarAluno(item.bairro_real);" data-ng-class="{success:item.bairro_real == alunoFilter.bairro}">
															<td>{{item.num_alunos}}</td>
															<td>{{item.bairro}}</td>
															<td>{{item.percentual}}%</td>
														</tr>
													</tbody>
												</table>
												<pagination total-items="relAlunosBairroDataset.bairros.length" page="currentPage" items-per-page="itemsPerPage" class="pagination-sm" boundary-links="true" rotate="false" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" max-size="maxSize"></pagination>
											</div> <!-- /.table-responsive -->
										</div> <!-- /.portlet-content -->
									</div> <!--/.portlet -->
								</div> <!-- /.col -->
							</div> <!-- /.row -->
							&nbsp
							<div class="row">
								<div class="col-sm-12">
									<div class="portlet">
										<div class="portlet-header">
											<h3><i class="fa fa-tasks"></i>Alunos por bairro selecionado</h3>
										</div> <!-- /.portlet-header -->
										<div class="portlet-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered table-hover table-highlight table-checkable" >
													<thead>
														<tr>
															<th>Aluno</th>
															<th>Ação</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="item in relAlunosBairroDataset.alunos | filter:alunoFilter:true">
															<td>{{item.nome}}</td>
															<td>
																<a href="#/cad_aluno/{{item.id_aluno}}" class="btn btn-sm btn-success"><i class="fa fa-edit"></i></a>
															</td>
														</tr>
													</tbody>
												</table>
											</div> <!-- /.table-responsive -->
										</div> <!-- /.portlet-content -->
									</div> <!--/.portlet -->
								</div> <!-- /.col -->
							</div> <!-- /.row -->
						</div>
					</div>
				</div>
			</form>
		</div> <!-- /.row -->
	</div> <!-- /#content-container -->			
</div> <!-- #content -->

